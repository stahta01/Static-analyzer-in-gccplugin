./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c: In function ‘ASN1_STRING_type_new’:
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:286:17: warning: implicit declaration of function ‘ASN1err’ [-Wimplicit-function-declaration]
  286 |                 ASN1err(ASN1_F_ASN1_STRING_TYPE_NEW,ERR_R_MALLOC_FAILURE);
      |                 ^~~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c: In function ‘equal_nocase’:
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:300:9: warning: implicit declaration of function ‘skip_prefix’ [-Wimplicit-function-declaration]
  300 |         skip_prefix(&pattern, &pattern_len, subject, subject_len, flags);
      |         ^~~~~~~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c: In function ‘ASN1_mbstring_copy’:
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:329:16: warning: implicit declaration of function ‘ASN1_mbstring_ncopy’; did you mean ‘ASN1_mbstring_copy’? [-Wimplicit-function-declaration]
  329 |         return ASN1_mbstring_ncopy(out, in, len, inform, mask, 0, 0);
      |                ^~~~~~~~~~~~~~~~~~~
      |                ASN1_mbstring_copy
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c: In function ‘ASN1_mbstring_ncopy’:
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:345:29: warning: implicit declaration of function ‘strlen’ [-Wimplicit-function-declaration]
  345 |         if(len == -1) len = strlen((const char *)in);
      |                             ^~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:11:1: note: include ‘<string.h>’ or provide a declaration of ‘strlen’
   10 | #include "../openssl.h"
  +++ |+#include <string.h>
   11 | 
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:345:29: warning: incompatible implicit declaration of built-in function ‘strlen’ [-Wbuiltin-declaration-mismatch]
  345 |         if(len == -1) len = strlen((const char *)in);
      |                             ^~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:345:29: note: include ‘<string.h>’ or provide a declaration of ‘strlen’
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:385:17: warning: implicit declaration of function ‘BIO_snprintf’; did you mean ‘vsnprintf’? [-Wimplicit-function-declaration]
  385 |                 BIO_snprintf(strbuf, sizeof strbuf, "%ld", minsize);
      |                 ^~~~~~~~~~~~
      |                 vsnprintf
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:386:17: warning: implicit declaration of function ‘ERR_add_error_data’ [-Wimplicit-function-declaration]
  386 |                 ERR_add_error_data(2, "minsize=", strbuf);
      |                 ^~~~~~~~~~~~~~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:435:21: warning: implicit declaration of function ‘ASN1_STRING_set’; did you mean ‘ASN1_STRING_type_new’? [-Wimplicit-function-declaration]
  435 |                 if(!ASN1_STRING_set(dest, in, len)) {
      |                     ^~~~~~~~~~~~~~~
      |                     ASN1_STRING_type_new
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:443:30: warning: implicit declaration of function ‘ASN1_STRING_free’; did you mean ‘ASN1_STRING_type_new’? [-Wimplicit-function-declaration]
  443 |                 if(free_out) ASN1_STRING_free(dest);
      |                              ^~~~~~~~~~~~~~~~
      |                              ASN1_STRING_type_new
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:450:9: warning: implicit declaration of function ‘traverse_string’ [-Wimplicit-function-declaration]
  450 |         traverse_string(in, len, inform, cpyfunc, &p);
      |         ^~~~~~~~~~~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c: In function ‘do_check_string’:
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:495:53: warning: implicit declaration of function ‘memcmp’ [-Wimplicit-function-declaration]
  495 |                 else if (a->length == (int)blen && !memcmp(a->data, b, blen))
      |                                                     ^~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:495:53: note: include ‘<string.h>’ or provide a declaration of ‘memcmp’
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:498:37: warning: implicit declaration of function ‘BUF_strndup’ [-Wimplicit-function-declaration]
  498 |                         *peername = BUF_strndup((char *)a->data, a->length);
      |                                     ^~~~~~~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:498:35: warning: assignment to ‘char *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  498 |                         *peername = BUF_strndup((char *)a->data, a->length);
      |                                   ^
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:510:35: warning: assignment to ‘char *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  510 |                         *peername = BUF_strndup((char *)astr, astrlen); /* use-after-free */
      |                                   ^
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c: In function ‘main’:
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:521:26: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  521 |         char *peername = b;
      |                          ^
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:522:23: warning: incompatible implicit declaration of built-in function ‘strlen’ [-Wbuiltin-declaration-mismatch]
  522 |         size_t blen = strlen(b);
      |                       ^~~~~~
./benchmarks/openssl/use_after_free_4/openssl_uaf_4.c:522:23: note: include ‘<string.h>’ or provide a declaration of ‘strlen’
Profile consistency report:

                                 |mismatch     |mismatch     |                     |
Pass name                        |IN    |IN    |OUT   |OUT   |overall              |
                                 |freq  |count |freq  |count |size      |time      |
cfg                  ------------|      |      |      |      |          |          |
ompexp                           |      |      |      |      |   +100.0%|          |
fixup_cfg            ------------|      |      |      |      |          |          |
ssa                              |      |      |      |      |     -1.8%|          |
nothrow                          |      |      |      |      |     -1.8%|          |
fixup_cfg            ------------|      |      |      |      |          |          |
local-fnsummary      ------------|      |      |      |      |          |          |
einline              ------------|      |      |      |      |          |          |
early_optimizations  ------------|      |      |      |      |          |          |
objsz                ------------|      |      |      |      |          |          |
ccp                              |      |      |      |      |     -0.8%|          |
forwprop                         |      |      |      |      |     -0.8%|          |
ethread              ------------|      |      |      |      |          |          |
esra                 ------------|      |      |      |      |          |          |
ealias               ------------|      |      |      |      |          |          |
mergephi             ------------|      |      |      |      |          |          |
cddce                ------------|      |      |      |      |          |          |
phiopt               ------------|      |      |      |      |          |          |
modref               ------------|      |      |      |      |          |          |
iftoswitch           ------------|      |      |      |      |          |          |
profile_estimate     ------------|      |      |      |      |          |          |
local-pure-const                 |      |      |      |      |          |   +100.0%|
release_ssa          ------------|      |      |      |      |          |          |
local-fnsummary      ------------|      |      |      |      |          |          |
=======ipa_pta=========
===============The first stage : Point of interest stmt collect=================
=======node_fun:main=========
=======node_fun:do_check_string=========
during IPA pass: static_analyzer
In function ‘do_check_string’:
lto1: internal compiler error: Segmentation fault
0x7fc1ed5d6bce bb_in_branch_p(gimple*)
	/root/x21321219/new_gccplugin/Compiler/unit.h:16
0x7fc1ed5d7e19 set_ptb(basic_block_def*, ptb*, tree_node*, unsigned int, int, gimple*, cgraph_node*)
	/root/x21321219/new_gccplugin/Compiler/gimplearray.h:15
0x7fc1ed5dc58d collect_function_call(gimple*, cgraph_node*, basic_block_def*)
	/root/x21321219/new_gccplugin/Compiler/collect.h:71
0x7fc1ed5ed985 detect()
	/root/x21321219/new_gccplugin/Compiler/Algorithm.h:760
0x7fc1ed5ee1ba execute_detect
	/root/x21321219/new_gccplugin/Compiler/gcc_plugin.c:107
0x7fc1ed5ee230 execute
	/root/x21321219/new_gccplugin/Compiler/gcc_plugin.c:130
Please submit a full bug report,
with preprocessed source if appropriate.
Please include the complete backtrace with any bug report.
See <https://gcc.gnu.org/bugs/> for instructions.
lto-wrapper: fatal error: gcc-11.1 returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
